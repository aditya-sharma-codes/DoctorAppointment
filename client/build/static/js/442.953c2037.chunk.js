"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[442],{2442:(s,e,r)=>{r.r(e),r.d(e,{default:()=>m});var a=r(2555),o=r(5043),n=(r(2847),r(5560)),t=r(1772),c=r(9722),l=r(3768),i=r(5089),d=r(9456),p=r(8271),w=r(5789),h=r(7070),u=r(579);c.A.defaults.baseURL="https://doctorappointment-3x4c.onrender.com/api";const m=function(){const{userId:s}=(0,h.A)(localStorage.getItem("token")),e=(0,d.wA)(),{loading:r}=(0,d.d4)(s=>s.root),[m,f]=(0,o.useState)(""),[x,j]=(0,o.useState)({password:"",newpassword:"",confnewpassword:""});(0,o.useEffect)(()=>{(async()=>{try{e((0,i.r1)(!0));const r=await(0,w.A)("/user/getuser/".concat(s));j((0,a.A)((0,a.A)({},r),{},{password:"",newpassword:null===r.newpassword?"":r.newpassword})),f(r.pic),e((0,i.r1)(!1))}catch(r){console.error("Error fetching user data:",r)}})()},[e]);const g=s=>{const{name:e,value:r}=s.target;j((0,a.A)((0,a.A)({},x),{},{[e]:r}))};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(t.A,{}),r?(0,u.jsx)(p.A,{}):(0,u.jsx)("section",{className:"register-section flex-center",children:(0,u.jsxs)("div",{className:"profile-container flex-center",children:[(0,u.jsx)("h2",{className:"form-heading",children:"Profile"}),(0,u.jsx)("img",{src:m,alt:"profile",className:"profile-pic"}),(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const{password:r,newpassword:o,confnewpassword:n}=x;if(o!==n)return l.Ay.error("Passwords do not match");try{"Password changed successfully"===(await c.A.put("/user/changepassword",{userId:s,currentPassword:r,newPassword:o,confirmNewPassword:n},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).data?(l.Ay.success("Password updated successfully"),j((0,a.A)((0,a.A)({},x),{},{password:"",newpassword:"",confnewpassword:""}))):l.Ay.error("Unable to update password")}catch(t){console.error("Error updating password:",t),t.response?l.Ay.error(t.response.data):l.Ay.error("Network error. Please try again.")}},className:"register-form",children:[(0,u.jsx)("div",{className:"form-same-row",children:(0,u.jsx)("input",{type:"password",name:"password",className:"form-input",placeholder:"Enter your current password",value:x.password,onChange:g})}),(0,u.jsxs)("div",{className:"form-same-row",children:[(0,u.jsx)("input",{type:"password",name:"newpassword",className:"form-input",placeholder:"Enter your new password",value:x.newpassword,onChange:g}),(0,u.jsx)("input",{type:"password",name:"confnewpassword",className:"form-input",placeholder:"Confirm your new password",value:x.confnewpassword,onChange:g})]}),(0,u.jsx)("button",{type:"submit",className:"btn form-btn",children:"Update"})]})]})}),(0,u.jsx)(n.A,{})]})}},5560:(s,e,r)=>{r.d(e,{A:()=>c});r(5043);var a=r(5369),o=r(9776),n=r(5475),t=r(579);const c=()=>(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("footer",{children:[(0,t.jsxs)("div",{className:"footer",children:[(0,t.jsxs)("div",{className:"footer-links",children:[(0,t.jsx)("h3",{children:"Links"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)(n.k2,{to:"/",children:"Home"})}),(0,t.jsx)("li",{children:(0,t.jsx)(n.k2,{to:"/doctors",children:"Doctors"})}),(0,t.jsx)("li",{children:(0,t.jsx)(n.k2,{to:"/appointments",children:"Appointments"})}),(0,t.jsx)("li",{children:(0,t.jsx)(n.k2,{to:"/notifications",children:"Notifications"})}),(0,t.jsx)("li",{children:(0,t.jsx)(o.Vq,{to:"/#contact",children:"Contact Us"})}),(0,t.jsx)("li",{children:(0,t.jsx)(n.k2,{to:"/profile",children:"Profile"})})]})]}),(0,t.jsxs)("div",{className:"social",children:[(0,t.jsx)("h3",{children:"Social links"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{className:"facebook",children:(0,t.jsx)("a",{href:"https://www.facebook.com/",target:"_blank",rel:"noreferrer",children:(0,t.jsx)(a.ok6,{})})}),(0,t.jsx)("li",{className:"youtube",children:(0,t.jsx)("a",{href:"https://www.youtube.com/",target:"_blank",rel:"noreferrer",children:(0,t.jsx)(a.Vk6,{})})}),(0,t.jsx)("li",{className:"instagram",children:(0,t.jsx)("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noreferrer",children:(0,t.jsx)(a.ao$,{})})})]})]})]}),(0,t.jsxs)("div",{className:"footer-bottom",children:["Copy Right \xa9 ",(new Date).getFullYear()]})]})})}}]);
//# sourceMappingURL=442.953c2037.chunk.js.map